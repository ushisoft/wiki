# 团队契约

## 好处

1. 减少团队内部冲突

2. 提升决策质量

3. 共同价值观

## 几个方面

### 团队愿景

团队的名称、口号、使命、价值观等。

### 交付目标

常见的优先交付要求有： 0缺陷、按时、保障性能、保障业务连续等等。

常见的交付频率有：每日、每周、每月、按需高频（高于每2周一次）、按需低频（低于每2周一次）。

### 团队模型

确定团队模型，明确汇报关系。

#### Scrum

- 组织形式
	
	Product Owner，Scrum Master，团队成员。

- 管理实践

	计划会议，站立会议，评审会议，回顾会议等

	Backlog、燃尽图等

#### 精益

- 组织形式

	团队领导、团队成员、看板管理员

- 管理实践

	看板，价值流图等

#### XP

#### 传统项目团队

- 组织形式

	开发、测试等

- 管理实践

	风险管理、干系人管理、范围管理等

### 管理实践

配合管理实践的各类工具大致有：

大型ALM（Application Lifecycle Management，应用生命周期管理）工具：RTC，VSTS，Polarion

中小型ALM工具：Jira，Redmine

云工具：Tower，Rally

看板：物理看板，电子看板

简易工具：Excel

### 工程实践

#### 常见的工程实践

架构设计、需求分析、持续集成、TDD、ATDD（Acceptance Test Driven Development，验收测试驱动开发）、BDD（Behavior Driven Development，行为驱动开发）、UI自动化测试、非UI自动化测试、探索性测试、用户故事分析等等

常见配合工程实践的工具有：

配置管理：Git，SVN等

设计：UML

需求：Jira、Wiki等

IDE：eclipse，idea等

Code Review: ReviewBoard、Gerrit

代码扫描：SonarQube

测试：xUnit、Selenium

持续集成：Jenkins、CruiseControl

### 完成定义

#### 迭代DoD

在Scrum中，一般需要预先定义DoD，常见的迭代DoD条款有:

- 所有完成的用户故事得到PO的验证

- 所有代码得到静态分析，纠正最高级别的不符合项

- 所有新增代码得到人工评审

- 所有完成的用户故事都有对应的测试用例

### 发布DoD

而对于发布，一般就有更加严格的要求，发布DoD的典型条款有：

- 完成发布规划所要求的重点内容

- 通过发布的回归测试，回归测试范围是全范围，回归比率不低于50%

- 修复所有等级为1、2、3的缺陷，4级及4级以下缺陷不超过20个

### 用户故事DoD

为了更好的达成迭代DoD，就需要提前注意，所以有些更加细节的DoD得到识别并使用。

用户故事DoD列举样例如下：

- 用户故事最终的描述符合INVEST

- 用户故事得到测试用例的对应覆盖

- 用户故事得到对应的自动化测试用例

- 用户故事得到用户代表试用并初步认可

### 每日DoD 

典型条款有：

- 搭建每日构建环境，晚上自动静态代码检查、编译、部署和测试，每日修复前一日构建和测试发现的缺陷和问题。

- 下班前必须提交当天书写的代码

- 当天的代码必须在当天或者第2天邀请同伴进行代码评审

- 搭建持续集成环境，当天上下午必须至少各提交代码一次（这与第1条可能冲突）

- 采用TDD，凡是检入的功能代码必须要有对应的单元测试（严格采用TDD）

### 其他DoD

敏捷团队追求内建的质量，根据碰到的问题也许会设立更多的DoD，这完全可以由团队自行来决策。

不同级别的DoD可能会重复部分内容，这样的重复是在不同层面对相同事物的强调，是可以的，但需要保持一致。

## 敏捷团队章程样例 - 某互联网开发情景

如下提供一个某互联网开发团队的团队章程供参考。

### 团队愿景

团队名称：闪电Flash

使命：快速提供互联网金融技术解决方案，成为国际一流的互联网金融开发团队！ 

价值观：敏捷、诚信、协作、创新、成就

### 交付目标

高频交付，优先快速响应客户需要

### 团队模型

团队分工：特性跨职能团队

团队角色：

产品经理1位 + 开发经理1位，成员覆盖前后台开发、测试，一共7人。

成员向产品经理和开发经理双线汇报，产品经理与开发经理向上级领导汇报。

### 管理实践

1. 迭代周期为2周，每2周进行展示回顾会议

2. 使用Jira管理用户故事流动，不识别用户故事的任务

3. 同时采用物理看板管理用户故事流动，手工与Jira保持同步

4. 每日早会

主要的工程实践

- Git守护主分支加功能特性分支

- Gitlab带强制合并Code Review

- 合并触发集成，并完成自动化测试

- 每日构建，触发代码扫描和测试覆盖率检测

### 完成定义

- 所有用户故事经过PO确认、测试，走完全部流程

- 所有新增或者变化的用户故事都有对应的新测试用例，并执行通过

- 每天下班前必须提交当天书写的代码

- 所有新增或者变化的代码必须得到人工评审

- 晚上自动进行静态代码检查，如有不符合项，每日首先修复前一日构建和测试发现的缺陷和新不符合项

- 对于发布，需进行全范围回归测试，回归覆盖率不低于30%，所有等级为1、2的缺陷必须修复

## 参考

<http://geek.csdn.net/news/detail/126519>